% Reset
clc; clear; close all;    
% Add class paths
addpath('functions');

%% Load data
% path = 'google_dc/errors/AR/SOLAR/';
% files = cellstr([   'AL_34.65_-86.783_2007_2009.csv_30.mat ' ...
%                   ; 'GA_33.65_-84.433_2007_2009.csv_30.mat ' ...                  
%                   ; 'IA_41.017_-94.367_2007_2009.csv_30.mat' ...
%                   ; 'NC_35.733_-81.383_2007_2009.csv_30.mat' ...
%                   ; 'OK_36.2_-95.883_2007_2009.csv_30.mat  ' ...                  
%                   ; 'OR_45.55_-122.4_2007_2009.csv_30.mat  ' ...                  
%                   ; 'SC_33.967_-80.467_2007_2009.csv_30.mat' ...
%                   ]);
              
% path = 'google_dc/errors/AR/WIND/';
% files = cellstr([   'AL_34.65_-86.783_merge.csv_30.mat ' ...
%                   ; 'GA_33.65_-84.433_merge.csv_30.mat ' ...                  
%                   ; 'IA_41.017_-94.367_merge.csv_30.mat' ...
%                   ; 'NC_35.733_-81.383_merge.csv_30.mat' ...
%                   ; 'OK_36.2_-95.883_merge.csv_30.mat  ' ...                  
%                   ; 'OR_45.55_-122.4_merge.csv_30.mat  ' ...                  
%                   ; 'SC_33.967_-80.467_merge.csv_30.mat' ...
%                   ]);

path = 'google_dc/errors/AR/WIND/';
files = cellstr([   'AL_34.65_-86.783_merge.csv_24_q_7_30.mat ' ...
                  ; 'GA_33.65_-84.433_merge.csv_24_q_7_30.mat ' ...                  
                  ; 'IA_41.017_-94.367_merge.csv_24_q_7_30.mat' ...
                  ; 'NC_35.733_-81.383_merge.csv_24_q_7_30.mat' ...
                  ; 'OK_36.2_-95.883_merge.csv_24_q_7_30.mat  ' ...                  
                  ; 'OR_45.55_-122.4_merge.csv_24_q_7_30.mat  ' ...                  
                  ; 'SC_33.967_-80.467_merge.csv_24_q_7_30.mat' ...
                  ]);

%%
fileLen = 7;
figure
for i = 1: fileLen
    day = 24;
    load(strcat(path , files{i}));
%     norm_data = (errors - min(errors)) / ( max(errors) - min(errors) )
    [f,xi] = ksdensity(errors);    
    f = f./sum(f); 
    plot(xi,f);    
    hold on;
end
legend('AL','GA','IA','OK','NC','OR','SC');

%% Fit distribution
[D, PD] = allfitdist(errors, 'PDF');